{"ast":null,"code":"import _classCallCheck from\"C:\\\\npm\\\\moja\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\npm\\\\moja\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\npm\\\\moja\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\npm\\\\moja\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"C:\\\\npm\\\\moja\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:\\\\npm\\\\moja\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{postsFetched,getAllStatPostsImages}from\"./config/actions/index\";import{connect}from\"react-redux\";import Project from'./Project';import{fire,base,storage}from'./config/Fire';var lastScrollY=0;var ticking=false;export var Projects=/*#__PURE__*/function(_Component){_inherits(Projects,_Component);function Projects(props){var _this;_classCallCheck(this,Projects);_this=_possibleConstructorReturn(this,_getPrototypeOf(Projects).call(this,props));_this.handleScroll=function(){lastScrollY=window.scrollY;if(!ticking){window.requestAnimationFrame(function(){//this.navRef.current.style.top = `${lastScrollY}px`;\nconsole.log(_this.navRef.current.style);var styles=getComputedStyle(_this.navRef.current);//console.log(styles) // rgb(0, 0, 0)\nticking=false;});ticking=true;}};_this.navRef=React.createRef();_this.onLog=_this.onLog.bind(_assertThisInitialized(_this));_this.handleScroll=_this.handleScroll.bind(_assertThisInitialized(_this));_this.state={data:[\"1\",\"2\"],posts:[],posts2:[],ref2:[]};return _this;}_createClass(Projects,[{key:\"ref2\",value:function ref2(temp){this.setState({ref2:temp});}},{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;if(this.props.posts2){this.props.posts2.forEach(function(post){_this2.onAction(post.id);});}//window.addEventListener('scroll', this.handleScroll);\n}},{key:\"componentDidUpdate\",value:function componentDidUpdate(){console.log(this.props.posts);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){// window.removeEventListener('scroll', this.handleScroll);\n}},{key:\"onAction\",value:function onAction(id){var temp=[];var storageRef=storage.ref('/images/'+id);storageRef.list().then(function(result){console.log(result.items);result.items.forEach(function(imageRef){imageRef.getDownloadURL().then(function(url){console.log(url);temp.push(url);return url;});console.log(imageRef);// And finally display them\n//console.log(imageRef.getDownloadURL());\n//this.onImage(imageRef);\n//console.log(imageRef.getDownloadURL());\n});}).catch(function(error){// Handle any errors\n});this.ref2(temp);console.log(this.state.ref2);// const storageRef = storage.ref('/images/1576580835000').getDownloadURL();\n//this.props.getAllStatPostsImages(temp);\n//console.log(this.props.posts2);\n//console.log(this.props.images);\n}},{key:\"onLog\",value:function onLog(){console.log(this.props.posts);}},{key:\"render\",value:function render(){//wyśietlanie listy projektów\nvar dane=this.props.posts;console.log(this.props.images);var div;if(this.props.posts2!=null){div=this.props.posts2.map(function(item,i){//console.log({item});\n//console.log(this.props.images);\n// return <li className=\"list-group-item list-group-item-action\" key={i}><div className=\"row\"><div className=\"col-md\"></div><div className=\"col-md\">{item.title}</div><div className=\"col-md\">{item.text}</div></div></li>\nreturn React.createElement(Project,{key:item.id,title:item.title,text:item.text,color:item.color});},this);}else{return React.createElement(\"li\",{className:\"list-group-item list-group-item-action\"},\"\\u0141adowanie..\");}return React.createElement(\"div\",null,div,React.createElement(\"ul\",{className:\"list-group\"}),React.createElement(\"button\",{onClick:this.onLog},\"Log\"));}}]);return Projects;}(Component);var mapStateToProps=function mapStateToProps(state){return{posts2:state.allposts.statPostState,posts:state.posts,images:state.allposts.statPostImages};};var mapDispatchToProps={postsFetched:postsFetched,getAllStatPostsImages:getAllStatPostsImages};export var ProjectsContainer=connect(mapStateToProps,mapDispatchToProps)(Projects);","map":{"version":3,"sources":["C:/npm/moja/src/projects.js"],"names":["React","Component","postsFetched","getAllStatPostsImages","connect","Project","fire","base","storage","lastScrollY","ticking","Projects","props","handleScroll","window","scrollY","requestAnimationFrame","console","log","navRef","current","style","styles","getComputedStyle","createRef","onLog","bind","state","data","posts","posts2","ref2","temp","setState","forEach","post","onAction","id","storageRef","ref","list","then","result","items","imageRef","getDownloadURL","url","push","catch","error","dane","images","div","map","item","i","title","text","color","mapStateToProps","allposts","statPostState","statPostImages","mapDispatchToProps","ProjectsContainer"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { postsFetched,getAllStatPostsImages } from \"./config/actions/index\";\r\nimport { connect } from \"react-redux\";\r\nimport Project from './Project';\r\nimport {fire  , base, storage}  from './config/Fire';\r\nlet lastScrollY = 0;\r\nlet ticking = false;\r\nexport class Projects extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.navRef = React.createRef();\r\n    this.onLog = this.onLog.bind(this);\r\n    this.handleScroll = this.handleScroll.bind(this);\r\n    this.state = {\r\n        data: [\"1\",\"2\"],\r\n        posts: [],\r\n        posts2: [],\r\n        ref2: []\r\n      };\r\n}\r\nref2(temp){\r\n  this.setState({\r\n    ref2: temp\r\n    \r\n});\r\n}\r\ncomponentDidMount(){\r\n  if (this.props.posts2){\r\n  this.props.posts2.forEach( (post) => {\r\n    this.onAction(post.id);\r\n    \r\n  })\r\n  }\r\n\r\n  \r\n//window.addEventListener('scroll', this.handleScroll);\r\n}\r\ncomponentDidUpdate(){\r\n  console.log(this.props.posts);\r\n  \r\n }\r\n componentWillUnmount() {\r\n // window.removeEventListener('scroll', this.handleScroll);\r\n}\r\n\r\n\r\n  \r\n  handleScroll = () => {\r\n    lastScrollY = window.scrollY;\r\n\r\n    if (!ticking) {\r\n      window.requestAnimationFrame(() => {\r\n        //this.navRef.current.style.top = `${lastScrollY}px`;\r\n        console.log(this.navRef.current.style);\r\n        const styles = getComputedStyle(this.navRef.current)\r\n\r\n        //console.log(styles) // rgb(0, 0, 0)\r\n       \r\n        ticking = false;\r\n      });\r\n   \r\n      ticking = true;\r\n    }\r\n  };\r\n  onAction(id){\r\n    \r\n    var temp =[];\r\n    var storageRef = storage.ref('/images/'+id);\r\n   \r\n    storageRef.list().then(function(result) {\r\n      console.log(result.items);\r\n      result.items.forEach(function(imageRef) {\r\n        imageRef.getDownloadURL().then(function(url) {\r\n          console.log(url);\r\n          temp.push(url);\r\n          return url;\r\n      });\r\n       console.log(imageRef);\r\n        // And finally display them\r\n     \r\n      //console.log(imageRef.getDownloadURL());\r\n     \r\n        //this.onImage(imageRef);\r\n        //console.log(imageRef.getDownloadURL());\r\n      });\r\n    }).catch(function(error) {\r\n      // Handle any errors\r\n    });\r\n\r\n    this.ref2(temp);\r\n\r\n        console.log(this.state.ref2);\r\n   // const storageRef = storage.ref('/images/1576580835000').getDownloadURL();\r\n    //this.props.getAllStatPostsImages(temp);\r\n\r\n    \r\n    //console.log(this.props.posts2);\r\n    //console.log(this.props.images);\r\n  }\r\n\r\n \r\n onLog(){\r\n   console.log(this.props.posts);\r\n }\r\n  render() {\r\n    \r\n      //wyśietlanie listy projektów\r\n      var dane=this.props.posts;\r\n      console.log(this.props.images);\r\n   \r\n      var div;\r\n    if(this.props.posts2!= null){\r\n      div =this.props.posts2.map(function(item, i){\r\n        \r\n        //console.log({item});\r\n        //console.log(this.props.images);\r\n        // return <li className=\"list-group-item list-group-item-action\" key={i}><div className=\"row\"><div className=\"col-md\"></div><div className=\"col-md\">{item.title}</div><div className=\"col-md\">{item.text}</div></div></li>\r\n        return <Project key={item.id}  title={item.title} text={item.text} color={item.color} />\r\n      }, this)\r\n    }else\r\n    {\r\n      return <li className=\"list-group-item list-group-item-action\">Ładowanie..</li>\r\n    }\r\n      \r\n      \r\n\r\n      return (\r\n        \r\n<div>\r\n{div}\r\n          <ul className=\"list-group\">\r\n              \r\n              \r\n             \r\n             \r\n          </ul>\r\n           <button onClick={this.onLog}>Log</button></div>\r\n      )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  \r\n  return {\r\n    posts2: state.allposts.statPostState,\r\n    posts: state.posts,\r\n    images: state.allposts.statPostImages\r\n  }\r\n};\r\nconst mapDispatchToProps = { postsFetched,getAllStatPostsImages };\r\n\r\nexport const ProjectsContainer = connect(mapStateToProps, mapDispatchToProps)(Projects);"]},"metadata":{},"sourceType":"module"}